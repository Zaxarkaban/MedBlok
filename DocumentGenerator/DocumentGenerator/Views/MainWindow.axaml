<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:DocumentGenerator.ViewModels"
        x:Class="DocumentGenerator.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Title="Document Generator" Width="600" Height="1400">
	<Design.DataContext>
		<vm:MainWindowViewModel />
	</Design.DataContext>
	<ScrollViewer>
		<StackPanel Margin="20" Name="MainStackPanel">
			<TextBlock Text="ФИО" />
			<TextBox Name="FullNameTextBox"
                     Text="{Binding FullName, UpdateSourceTrigger=PropertyChanged}"
                     TextChanged="HandleTextChanged"
                     TextInput="RestrictInput"
                     KeyDown="RestrictKeyDown"
                     Watermark="Введите ФИО" />
			<TextBlock Text="{Binding FullNameError}" Foreground="Red" />

			<TextBlock Text="Должность" />
			<TextBox Name="PositionTextBox"
                     Text="{Binding Position, UpdateSourceTrigger=PropertyChanged}"
                     TextChanged="HandleTextChanged"
                     TextInput="RestrictInput"
                     KeyDown="RestrictKeyDown"
                     Watermark="Введите должность" />
			<TextBlock Text="{Binding PositionError}" Foreground="Red" />

			<TextBlock Text="Дата рождения (ДД.ММ.ГГГГ)" />
			<TextBox Name="DateOfBirthTextBox"
                     Text="{Binding DateOfBirth, UpdateSourceTrigger=PropertyChanged}"
                     TextChanged="HandleTextChanged"
                     TextInput="RestrictInput"
                     KeyDown="RestrictKeyDown"
                     Watermark="ДД.ММ.ГГГГ" />
			<TextBlock Text="{Binding DateOfBirthError}" Foreground="Red" />

			<TextBlock Text="Пол" />
			<ComboBox Name="GenderComboBox"
                      SelectedItem="{Binding Gender}"
                      ItemsSource="{Binding GenderOptions}"
                      SelectionChanged="ComboBox_SelectionChanged"
                      GotFocus="ComboBox_GotFocus"
                      KeyDown="InputField_KeyDown" />
			<TextBlock Text="{Binding GenderError}" Foreground="Red" />

			<ListBox ItemsSource="{Binding OrderClauses}" SelectedItems="{Binding SelectedOrderClauses}" SelectionMode="Multiple" Height="100">
				<ListBox.ItemTemplate>
					<DataTemplate>
						<TextBlock Text="{Binding}" />
					</DataTemplate>
				</ListBox.ItemTemplate>
			</ListBox>

			<TextBlock Text="СНИЛС (XXX-XXX-XXX XX)" />
			<TextBox Name="SnilsTextBox"
                     Text="{Binding Snils, UpdateSourceTrigger=PropertyChanged}"
                     TextChanged="HandleTextChanged"
                     TextInput="RestrictInput"
                     KeyDown="RestrictKeyDown"
                     Watermark="XXX-XXX-XXX XX" />
			<TextBlock Text="{Binding SnilsError}" Foreground="Red" />

			<TextBlock Text="Серия паспорта (XXXX)" />
			<TextBox Name="PassportSeriesTextBox"
                     Text="{Binding PassportSeries, UpdateSourceTrigger=PropertyChanged}"
                     TextChanged="HandleTextChanged"
                     TextInput="RestrictInput"
                     KeyDown="RestrictKeyDown"
                     Watermark="XXXX" />
			<TextBlock Text="{Binding PassportSeriesError}" Foreground="Red" />

			<TextBlock Text="Номер паспорта (XXXXXX)" />
			<TextBox Name="PassportNumberTextBox"
                     Text="{Binding PassportNumber, UpdateSourceTrigger=PropertyChanged}"
                     TextChanged="HandleTextChanged"
                     TextInput="RestrictInput"
                     KeyDown="RestrictKeyDown"
                     Watermark="XXXXXX" />
			<TextBlock Text="{Binding PassportNumberError}" Foreground="Red" />

			<TextBlock Text="Дата выдачи паспорта (ДД.ММ.ГГГГ)" />
			<TextBox Name="PassportIssueDateTextBox"
                     Text="{Binding PassportIssueDate, UpdateSourceTrigger=PropertyChanged}"
                     TextChanged="HandleTextChanged"
                     TextInput="RestrictInput"
                     KeyDown="RestrictKeyDown"
                     Watermark="ДД.ММ.ГГГГ" />
			<TextBlock Text="{Binding PassportIssueDateError}" Foreground="Red" />

			<TextBlock Text="Кем выдан паспорт" />
			<TextBox Name="PassportIssuedByTextBox"
                     Text="{Binding PassportIssuedBy, UpdateSourceTrigger=PropertyChanged}"
                     TextChanged="HandleTextChanged"
                     TextInput="RestrictInput"
                     KeyDown="RestrictKeyDown"
                     Watermark="Введите кем выдан" />
			<TextBlock Text="{Binding PassportIssuedByError}" Foreground="Red" />

			<!-- Новые поля: Адрес и Телефон -->
			<TextBlock Text="Адрес" />
			<TextBox Name="AddressTextBox"
                     Text="{Binding Address, UpdateSourceTrigger=PropertyChanged}"
                     TextChanged="HandleTextChanged"
                     TextInput="RestrictInput"
                     KeyDown="RestrictKeyDown"
                     Watermark="Введите адрес (город, улица, дом)" />
			<TextBlock Text="{Binding AddressError}" Foreground="Red" />

			<TextBlock Text="Телефон (+X (XXX) XXX-XX-XX)" />
			<TextBox Name="PhoneTextBox"
                     Text="{Binding Phone, UpdateSourceTrigger=PropertyChanged}"
                     TextChanged="HandleTextChanged"
                     TextInput="RestrictInput"
                     KeyDown="RestrictKeyDown"
                     Watermark="+X (XXX) XXX-XX-XX" />
			<TextBlock Text="{Binding PhoneError}" Foreground="Red" />

			<!-- Медицинские данные -->
			<TextBlock Text="Наименование страховой медицинской организации" />
			<TextBox Name="MedicalOrganizationTextBox"
                     Text="{Binding MedicalOrganization, UpdateSourceTrigger=PropertyChanged}"
                     TextChanged="HandleTextChanged"
                     TextInput="RestrictInput"
                     KeyDown="RestrictKeyDown"
                     Watermark="Введите наименование организации" />
			<TextBlock Text="{Binding MedicalOrganizationError}" Foreground="Red" />

			<TextBlock Text="Полис ОМС (опционально, 16 цифр)" />
			<TextBox Name="MedicalPolicyTextBox"
                     Text="{Binding MedicalPolicy, UpdateSourceTrigger=PropertyChanged}"
                     TextChanged="HandleTextChanged"
                     TextInput="RestrictInput"
                     KeyDown="RestrictKeyDown"
                     Watermark="16 цифр" />
			<TextBlock Text="{Binding MedicalPolicyError}" Foreground="Red" />

			<TextBlock Text="Наблюдается ЛПУ" />
			<TextBox Name="MedicalFacilityTextBox"
					 Text="{Binding MedicalFacility, UpdateSourceTrigger=PropertyChanged}"
					 TextChanged="HandleTextChanged"
					 TextInput="RestrictInput"
					 KeyDown="RestrictKeyDown"
					 Watermark="Введите название ЛПУ" />
			<TextBlock Text="{Binding MedicalFacilityError}" Foreground="Red" />

			<!-- Рабочие данные -->
			<TextBlock Text="Место работы" />
			<TextBox Name="WorkplaceTextBox"
                     Text="{Binding Workplace, UpdateSourceTrigger=PropertyChanged}"
                     TextChanged="HandleTextChanged"
                     TextInput="RestrictInput"
                     KeyDown="RestrictKeyDown"
                     Watermark="Введите место работы" />
			<TextBlock Text="{Binding WorkplaceError}" Foreground="Red" />

			<TextBlock Text="Форма собственности" />
			<ComboBox Name="OwnershipFormComboBox"
                      SelectedItem="{Binding OwnershipForm}"
                      ItemsSource="{Binding OwnershipFormOptions}"
                      SelectionChanged="ComboBox_SelectionChanged"
                      GotFocus="ComboBox_GotFocus"
                      KeyDown="InputField_KeyDown" />
			<TextBlock Text="{Binding OwnershipFormError}" Foreground="Red" />

			<TextBlock Text="ОКВЭД (XX.XX.XX)" />
			<TextBox Name="OkvedTextBox"
                     Text="{Binding Okved, UpdateSourceTrigger=PropertyChanged}"
                     TextChanged="HandleTextChanged"
                     TextInput="RestrictInput"
                     KeyDown="RestrictKeyDown"
                     Watermark="XX.XX.XX" />
			<TextBlock Text="{Binding OkvedError}" Foreground="Red" />

			<TextBlock Text="Стаж работы общий (XX лет)" />
			<TextBox Name="WorkExperienceTextBox"
                     Text="{Binding WorkExperience, UpdateSourceTrigger=PropertyChanged}"
                     TextChanged="HandleTextChanged"
                     TextInput="RestrictInput"
                     KeyDown="RestrictKeyDown"
                     Watermark="XX лет" />
			<TextBlock Text="{Binding WorkExperienceError}" Foreground="Red" />

			<Button Name="SaveButton"
                    Content="Сохранить"
                    Click="Save_Click"
                    HorizontalAlignment="Center"
                    Margin="10"
                    KeyDown="SaveButton_KeyDown" />
		</StackPanel>
	</ScrollViewer>
</Window>